<!doctype html>
<html lang="en">
 
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <title>
    
      AndreyMelnikov.MyBlog &middot;    # мой блог: IT-марафон.
    
  </title>

  <link rel="stylesheet" href="/styles.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-precomposed.ico" type="image/vnd.microsoft.icon">
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?">
  <link rel="alternate" type="application/atom+xml" title="AndreyMelnikov.MyBlog" href="/atom.xml">


  <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Home" />
<meta name="author" content="Andrey Melnikov" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/page15/" />
<meta property="og:url" content="http://localhost:4000/page15/" />
<meta property="og:site_name" content="AndreyMelnikov.MyBlog" />
<link rel="prev" href="http://localhost:4000/page14" />
<link rel="next" href="http://localhost:4000/page16" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Andrey Melnikov"},"headline":"Home","@type":"WebPage","url":"http://localhost:4000/page15/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body>

  
	<table>
	<p></p>
	</table>
    <div class="container content">
	
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">AndreyMelnikov.MyBlog</a>
          <small>   # мой блог: IT-марафон.</small>
        </h3>
		<p><img src="/image/my_avatar.jpeg"</p>
      </header>

      <main>
        <a class="btn btn-outline-secondary" href="/history_posts" role="button">
    <font style="color: black; font-size: 24px; font-family: Arial">Все мои посты</font>
</a>


<div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/functional/2020/07/28/FP-base-structs/">
        Функциональное программирование. Элементарные конструкции.
      </a>
    </h1>

    <time datetime="2020-07-28T00:00:00+03:00" class="post-date">28 Jul 2020</time>

    <p><img src="/image/post-2020-07-04/fp.jpg" alt="" /></p>

<p>В продолжении «Лямбда-темы» в данной статье, я хочу показать основные элементарные структурные конструкции функционального программирования, которые я изучил на примере интерпретатора <a href="https://repl.it/languages/Scheme">Scheme Online Compiler (LISP)</a></p>

<p>Как уже было отмечено ранее (в предыдущем посте), в функциональных языках, вроде бы, понятные уже нам вещи, (например, вызов функции или арифметические операции) синтаксически, выглядят иначе. В самом начале мозг программиста, недавно пересевшего на изучение «функционалки», буквально переворачивается. Настолько непривычно мыслить в новом функциональном стиле. Но, как говорится, со временем привыкаешь ко всему.</p>

<p>Давайте рассмотрим простейшую операцию сложения двух чисел. Казалось бы, что может быть проще.  И, действительно, ничего сложного нет, однако есть нюансы, так как в «функционалке» мы оперируем только функциями.<br />
Итак, 1 + 2 = 3. Мы привыкли к такой форме записи. Но, вот как это же привычное выражение будет выглядеть на функциональном языке: (+ 1 2) – результатом этого выражения будет число 3.  В первую очередь тут мы сталкиваемся с префиксной формой записи. То есть, функция “+” указывается вначале, а затем идут уже ее аргументы.</p>

<p><img src="/image/post-2020-07-28/FP_summ.jpg" alt="" /></p>

<p>Еще одним базовым моментом является определение (define). При помощи <code class="highlighter-rouge">define</code> мы можем определить свою собственную константу или функцию.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(define my_const 7.777)
</code></pre></div></div>

<p>Теперь, если мы вызовем константу <code class="highlighter-rouge">my_const</code>, то интерпретатор вернет нам 7.777<br />
Точно также мы можем определить и функцию. Давайте напишем функцию для вычисления квадрата числа и назовем ее square:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(define (square x) (* x x))
</code></pre></div></div>

<p><img src="/image/post-2020-07-28/FP_define_function.jpg" alt="" /></p>

<p>Если мы вызовем нашу функцию и передадим ей параметр 2 <code class="highlighter-rouge">(square 2)</code>, то она вернет нам результат 4.</p>

<p>Кроме того, нам доступны и булевы выражения. А раз система способна оперировать True и False, то мы можем сделать конструкцию логического ветвления - «ифчик», проще говоря:</p>

<p><img src="/image/post-2020-07-28/FP_if.jpg" alt="" /></p>

<p>Более сложные логические конструкции помогают делать логические операторы AND, OR, XOR, NOT.</p>

<p>Еще одной базовой конструкцией, которую необходимо рассмотреть является рекурсия. Да-да, функция, которая вызывает саму себя.
Для примера рассмотрим рекуррентную реализацию функции чисел Фибоначчи - <code class="highlighter-rouge">Fib(n)</code>.<br />
Как мы знаем <code class="highlighter-rouge">Fib(0) = 0</code>, <code class="highlighter-rouge">Fib(1) = 1, Fib(n-1) + Fib(n-2)</code><br />
В итоге имеем следующую последовательность: 0, 1, 1, 2, 3, 5, 8, 13, 21 … n</p>

<p><img src="/image/post-2020-07-28/FP_fib.jpg" alt="" /></p>

<p>Ну а с помощью рекурсии, точнее при помощи параметризации вызова, мы можем описать такую базовую конструкцию в языках программирования, как цикл! Да, цикл в функциональных языках реализован через рекурсию. В LISP цикл loop мы можем записать так:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(define (loop start end acc) 
  (if (&gt; start end) acc (loop (+ start 1) end (+ acc start))))
</code></pre></div></div>

<p>Давайте запишем нашу функцию <code class="highlighter-rouge">Fib(n)</code> в итеративном стиле (при помощи цикла).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(define (fib n) (fib-iter 1 0 n)) 
(define (fib-iter a b count) 
  (if (= count 0) b (fib-iter (+ a b) a (- count 1)))))
</code></pre></div></div>

<p>В данном примере мы использовали внутреннее определение (функция <code class="highlighter-rouge">fib-iter</code> использована в теле функции <code class="highlighter-rouge">fib</code>, а затем только определена)<br />
Стоит отметить, что применение рекурсии в чистом виде (не в итеративном стиле) не эффективно. Если представить графически выполнение рекуррентной функции, то получится дерево, в котором явно прослеживаются одинаковые поддеревья, результат выполнения которых не играет роли в общем вычислительном процессе. Давайте представим нашу функцию <code class="highlighter-rouge">fib(n)</code>, при n = 5:<br />
<img src="/image/post-2020-07-28/recurs.jpg" alt="" />
На рисунке выше, я постарался отобразить зеленым и красным цветами – одинаковые участки выполнения рекурсии.</p>

<p>В данной статье я постарался показать, как при помощи элементарных комбинаций (функции, рекурсия-цикл, логические ветвления), мы можем оперировать базовыми конструкциями языка программирования.</p>


  </article>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page16">Предыдущий</a>
  
  
    <a class="pagination-item newer" href="/page14">Следующий</a>
  
</div>






      </main>
	  
	
  

      <footer class="footer">
        <small><font style="color: gray; font-size: 16px; font-family: Arial">
		  <p><a href = 'https://vk.com/amelnikofcode'><font style="color: gray; font-size: 16px; font-family: Arial"> Мой профиль в ВК </font></a></p>
		  <p><a href = 'https://github.com/optima740'><font style="color: gray; font-size: 16px; font-family: Arial"> Мой профиль на GitHub</font></a></p>
		  &copy; <time datetime="2021-06-29T11:24:14+03:00">2021</time>
		</font>  
		  
        </small>
      </footer>
    </div>

    
  </body>
</html>
